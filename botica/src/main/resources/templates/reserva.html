<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reservar Pedido</title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
  <link href=" https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>
</head>

<body>
  <nav class="navbar bg-accent shadow-sm">
    <div class="container-fluid px-4">
      <a class="navbar-brand fw-bold" th:href="@{/}">
        JhireFarma
      </a>
    </div>
  </nav>
  <div class="container mt-4">

    <!-- Botón volver al carrito -->
    <a href="/carrito" class="btn btn-secondary mb-3">&larr; Volver al carrito</a>

    <div class="row">

      <!-- Columna izquierda: Información de pedido -->
      <div class="col-md-7">

        <!-- Card: Información de entrega -->
        <div class="card mb-3 p-3">
          <h5>¿En dónde recojeras tu pedido?</h5>
          <p>Sede principal | Av Cajamarca Sur
            8:00 AM - 10:00 PM</p>
        </div>

        <!-- Card: Quién recojerá el pedido -->
        <div class="card mb-3 p-3">
          <h5>Quién recogerá el pedido</h5>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="recoger" id="recogerYo" value="yo" checked>
            <label class="form-check-label" for="recogerYo">Yo</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="recoger" id="recogerOtro" value="otro">
            <label class="form-check-label" for="recogerOtro">Otra persona</label>
          </div>
          <input type="text" class="form-control mt-2" placeholder="Nombre de otra persona">
        </div>

        <!-- Card: Horario de recojo -->
        <div class="card mb-3 p-3">
          <h5>Horario de recojo</h5>
          <p>Estimamos que tu pedido estará listo desde el X, DD/MM a las 10:00 PM
            Te enviaremos un mensaje cuando tu pedido esté listo para recoger.
            Una vez que tu pedido esté listo, tendrás hasta el día X, DD de MM para recogerlo.
            Recuerda que debes llevar tu DNI físico para poder recoger tu pedido.</p>
        </div>

        <!-- Card: Información de pago -->
        <div class="card mb-3 p-3">
          <h5>Información de pago</h5>
          <p>Puede pagar en efectivo o con billeteras digitales.</p>
        </div>

      </div>

      <!-- Columna derecha: Resumen del pedido -->
      <div class="col-md-5">
        <div class="card p-3">
          <h5>Resumen del pedido</h5>
          <div th:if="${#lists.isEmpty(carrito)}">
            <p>Tu carrito está vacío.</p>
          </div>
          <div th:each="producto : ${carrito}" class="row mb-3 align-items-center">
            <div class="col-3">
              <img th:src="@{${producto.imagen}}" class="img-fluid" alt="Producto">
            </div>
            <div class="col-5">
              <p class="mb-1 text-muted" th:text="${producto.presentacion}">Presentación</p>
              <p class="mb-1 fw-bold" th:text="${producto.nombre}">Nombre</p>
              <p class="mb-0">Cantidad: <span th:text="${producto.cantidad}">1</span></p>
            </div>
            <div class="col-4 text-end">
              <p class="mb-1 fw-bold"
                th:text="'S/ ' + ${#numbers.formatDecimal(producto.precio * producto.cantidad, 1, 'POINT', 2, 'POINT')}">
                Precio</p>
            </div>
          </div>
          <hr />
          <div class="d-flex justify-content-between mb-3">
            <span>Total:</span>
            <span th:text="'S/ ' + ${#numbers.formatDecimal(total, 1, 'POINT', 2, 'POINT')}">0.00</span>
          </div>
          <button class="btn btn-success w-100">Reservar ahora</button>
        </div>
      </div>

    </div>
  </div>

</body>

</html>